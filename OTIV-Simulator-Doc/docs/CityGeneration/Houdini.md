---
id: Houdini
title: Houdini
sidebar_label: Houdini
---

# Houdini City Generation

The next step is to import your `map.osm` file into software called Houdini.

If you are unsure about anything or if certain terminology is unfamiliar, you can check this page to better understand the basics of Houdini: [What is Houdini?](https://otiv-jonas-samyn.github.io/otivSimulator/docs/CityGeneration/OSM)

Open the provided Houdini file “**Art_Global.hipnc**”. This can take a while, so just wait...

After opening the file, it should look something like this:

![Houdini Startup](../images/Houdini/houdini_startup.png)

Double-click on the `OTIV_CITY_GENERATION` Geometry node. It should open and look something like this:

![OTIV City Generation Node](../images/Houdini/otiv_city_generation_node.png)

Navigate to the top node, which should be this one:

![OSM Import Node](../images/Houdini/osm_import_node.png)

This node will take care of importing the OSM export into Houdini. When you click on this node, you can also make it active ([How to set Active?](https://otiv-jonas-samyn.github.io/otivSimulator/docs/CityGeneration/OSM)) for ease of use. Once selected, the window above will show the settings of this button. It should look something like this:

![OSM Import Node Details](../images/Houdini/osm_import_node_details.png)

The OSM File is where you want your file to be. To easily change it, press this button:

![OSM Import Node File Selection](../images/Houdini/osm_import_node_file_selection.png)

This will open up a navigation window that you can use to navigate to your `map.osm` file. **I recommend moving it from the downloads folder to a different folder where you can store all your future OSM exports.**

After changing it, Houdini may hang for a while as it loads. Just wait for it to finish. After loading, it should look something like this:

![OSM Import Load](../images/Houdini/osm_import_load.png)

The next step is to draw the tram tracks, which involves some manual work. Navigate to this part of the nodes:

![Tram Nodes Overview](../images/Houdini/osm_overview_tram_nodes.png)

Here, you want to select this node and make it active:

![Tram Node Marked](../images/Houdini/osm_tram_node_marked.png)

For ease of use, also project the tram tracks generated by OSM. To do this, go to the left of this comment and project ([How to project?](https://otiv-jonas-samyn.github.io/otivSimulator/docs/CityGeneration/OSM)) this node:

![Tram Node Project](../images/Houdini/osm_tram_node_project.png)

After doing that, your view should look something like this:

![Tram Geometry](../images/Houdini/osm_geometry_tram.png)

We will now draw the tram tracks. To do this, select the curve node from before:

![Curve Node Marked](../images/Houdini/osm_tram_node_marked.png)

Once you have selected the curve node, go to the top window and press the reset operations button:

![Reset Operations](../images/Houdini/osm_tram_node_reset_operations.png)

This should reset the previously drawn tram track. Next, go to the view window and select this button:

![Drawing Mode Selection](../images/Houdini/osm_geometry_drawing_mode_selection.png)

If you press it, you should see the Curve Tool settings in your viewport.

You should now have the ability to draw the curve. In the viewport, track the lines you want to follow and place points. You don’t have to follow exactly, but place enough points, especially on the turns, like this:

![Drawing Tram Tracks](../images/Houdini/osm_geometry_tram_drawing.png)

Once you are done and have closed the loop by ending on the same node as you started, you can check if it follows the spline by activating this node:

![Check Spline](../images/Houdini/osm_tram_node_checking.png)

Also, change your arrow back by selecting this on the left of your view window:

![Selection Mode](../images/Houdini/osm_geometry_selection_mode.png)

You should now be able to rotate the camera ([How to rotate?](https://otiv-jonas-samyn.github.io/otivSimulator/docs/CityGeneration/OSM)) and check your splines. If they aren’t good, you can redo this process until you are happy with the results.

Now to generate the whole city, navigate to the bottom of the nodes and look for this node:

![City Export Node](../images/Houdini/osm_hda_city_export_node.png)

This will take care of all other actions that Houdini should do. Just set it active and wait for Houdini to load. Depending on your device, this can take a while (for me, it takes around 10 minutes).

You can see Houdini working at the bottom of the Houdini window, where it will display the elapsed time and what it is currently cooking. After it is done, you should see the city in the view window, looking something like this:

![City Geometry](../images/Houdini/osm_geometry_city.png)

Even if you use the same export, it could look a bit different, but the street layout should be the same.

If everything looks good, you can start exporting this city to be used in the simulator. Go back to the end city node and look at the top window, which should look something like this:

![City Export Node Details](../images/Houdini/osm_hda_city_export_node_details.png)

This is where you will define how and where it should be exported to. Like before, you can use the explorer button on the right of the address bar to use the explorer to select an output folder. Once you have selected a folder, you can name the export here:

![Export File Name](../images/Houdini/osm_hda_city_export_node_file_name.png)

I recommend naming it after the city you chose to export (e.g., Rotterdam), but you can name it whatever you want. If you have chosen a name, just press the Export button under the name label.

A popup window should appear with information about the exports. It should look something like this:

![Exporting](../images/Houdini/osm_exporting.png)

If the export is done, go to where you saved your city to check if everything is there. You should have three folders:

- **Geo**
- **Instances**
- **Nav**

These folders will contain different things:

**Geo** should contain these:

![Geo Exports](../images/Houdini/osm_geo_exports.png)

**Instances** should contain these:

![Instance Exports](../images/Houdini/osm_instance_exports.png)

**Nav** should contain these:

![Nav Exports](../images/Houdini/osm_nav_exports.png)

If this seems correct, you can move on to the next step, [importing it into the simulator](./UnrealEngine.md).
