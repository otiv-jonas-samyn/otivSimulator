"use strict";(self.webpackChunkotiv_simulator_doc=self.webpackChunkotiv_simulator_doc||[]).push([[5228],{5903:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>s,toc:()=>l});var o=i(4848),n=i(8453);const r={id:"Recording",title:"Recording",sidebar_label:"Recording"},a="Recording",s={id:"Airsim/Recording",title:"Recording",description:"The reason we need Airsim is to record and collect data. You can collect two types of data: camera data and sensor data.",source:"@site/docs/Airsim/Recording.md",sourceDirName:"Airsim",slug:"/Airsim/Recording",permalink:"/otivSimulator/Airsim/Recording",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Airsim/Recording.md",tags:[],version:"current",frontMatter:{id:"Recording",title:"Recording",sidebar_label:"Recording"},sidebar:"documentationSidebar",previous:{title:"Settings",permalink:"/otivSimulator/Airsim/Settings"},next:{title:"Instance Segmentation",permalink:"/otivSimulator/Airsim/InstanceSegmentation"}},c={},l=[{value:"How to Record",id:"how-to-record",level:2},{value:"Setup",id:"setup",level:3},{value:"Using ActorDataCollector",id:"using-actordatacollector",level:3},{value:"Python",id:"python",level:3}];function d(e){const t={code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",p:"p",pre:"pre",...(0,n.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.h1,{id:"recording",children:"Recording"}),"\n",(0,o.jsx)(t.p,{children:"The reason we need Airsim is to record and collect data. You can collect two types of data: camera data and sensor data."}),"\n",(0,o.jsx)(t.h2,{id:"how-to-record",children:"How to Record"}),"\n",(0,o.jsx)(t.h3,{id:"setup",children:"Setup"}),"\n",(0,o.jsxs)(t.p,{children:["To be able to record, you need to set up a vehicle. However, due to the specific way we want our tram to work and the way Airsim sets up vehicles, we needed something a little different. That's why we added an ",(0,o.jsx)(t.code,{children:"ActorDataCollector"})," actor. This actor will be spawned by Airsim but its sole purpose is to record data."]}),"\n",(0,o.jsx)(t.h3,{id:"using-actordatacollector",children:"Using ActorDataCollector"}),"\n",(0,o.jsxs)(t.p,{children:["To use it, create a child from the ",(0,o.jsx)(t.code,{children:"ActorDataCollector"})," actor. In that child, use the function ",(0,o.jsx)(t.code,{children:"SetAndAttachActor()"})," to set which actor you want to attach to\u2014in our case, the tram. An example of how to do this in Blueprint looks like this:"]}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{alt:"Blueprint Example",src:i(8148).A+"",width:"624",height:"134"})}),"\n",(0,o.jsx)(t.p,{children:"Once you have set this, the actor will automatically attach to the specified actor when the simulator starts. It will first try to find a camera on the actor to attach to, but if it can't find one, it will attach to the root of the actor."}),"\n",(0,o.jsx)(t.h3,{id:"python",children:"Python"}),"\n",(0,o.jsxs)(t.p,{children:["To record data using Python, you can use the ",(0,o.jsx)(t.code,{children:"SingleRecord"})," function (or any other relevant function provided by Airsim's Python API). This allows you to control the recording process programmatically."]}),"\n",(0,o.jsx)(t.p,{children:"Example Python code to start recording:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-python",children:"import airsim\r\n\r\nAirsimClient = airsim.CarClient()\r\nAirsimClient.singleRecording() # start the recording\r\n\r\nwhile AirsimClient.isRecording(): # will return true if it is still taking images\r\n    time.sleep(0.1)\r\nprint('Retrieved images')\r\n\n"})}),"\n",(0,o.jsx)(t.p,{children:"The singleRecording() function is a custom made function, this will take a single image from all cameras in Unreal Engine and it will save it automatically in the set folder without sending it to python first. This will make the recording faster while keeping the control that python gives."}),"\n",(0,o.jsx)(t.p,{children:"This is a basic example, and you can find more detailed information in the Airsim Python API documentation.\r\nBy following these steps, you can effectively set up and record data using the Airsim simulator."})]})}function h(e={}){const{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},8148:(e,t,i)=>{i.d(t,{A:()=>o});const o=i.p+"assets/images/ActorDataCollectorBlueprintExample_img-4bfe00bb2d654ad9f886cba9cf18c5f3.png"},8453:(e,t,i)=>{i.d(t,{R:()=>a,x:()=>s});var o=i(6540);const n={},r=o.createContext(n);function a(e){const t=o.useContext(r);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:a(e.components),o.createElement(r.Provider,{value:t},e.children)}}}]);